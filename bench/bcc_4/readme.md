# BCC-4 マルチスレッドバッチ

## 実施内容
- バッチ処理スレッドのみで動かす。
- バッチ処理スレッドはそれぞれ基本的に専用となるテーブル領域を持ち、確率的に専用でないテーブル領域に書き込みを行う。

## 内部パラメーター設定
- 内部パラメーターは内部的にハードコードされていて不変なものとする。
- スレッド数: 112 (想定環境 dbs12 の物理コア最大数)
- トランザクションサイズ: 1000 writes / tx
  - 1 writes / tx などであると、トランザクションレイテンシが短すぎて期待する衝突が発生しない可能性があるが、ここを無為に長大すると実験時間も無為に長大することになるため、ほどよく設定する。
- スレッドごとにテーブルを持ち、テーブルサイズは 1000 records / table
- key size 8 bytes, value size 8 bytes. メモリアロケーターコンポーネントの影響を最小化する意図である。

## 外部パラメーター設定
- 外部パラメーターはコマンド引数で gflags によって与えるものとする。
- 衝突確率(cr): その確率で他のバッチ領域に対して書き込みを行う。
- 実験時間（duration[sec]）: データを測定する時間。

## 生成するグラフ
- graph.plt によって生成されるグラフ。
- 横軸が衝突確立、縦軸が総スループット。