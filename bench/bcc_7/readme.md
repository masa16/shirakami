# BCC-7 read-anti-dependency info cost benchmark

## 目的

batch write-write を競合としない場合、batch read anti dependency 情報をレコードに残す必要がある。
このベンチマークは batch read anti dependency 情報を残す仕様を追加する前と追加した後での性能比較を行い、仕様の追加が著しい性能劣化を与えないよ
うにするための試金石とする。

## 内部パラメーター設定

* バッチ処理スレッドのみ。
  + batch read anti dependency 情報をレコードに残す仕様を追加するためである。また、これを読むのは batch write 
  verify だからである。
* トランザクションサイズ
  + 測定対象の事象が発生する回数を最大化するため、40ms で終えるトランザクションサイズとする。
* read only
  + 残すことそのものの行為がどの程度性能に影響があるか？これを最大化するために batch read only とする。また残された情報を読み込む側とのキ
  ャッシュ汚染の程度も分析するべきだが、これは GC との競合を代わりとする。
*テーブルサイズ
　+ 40 ms 程度で終了するトランザクションが重複なく読み書きできるようなサイズとする。
* key size 8 bytes, value size 8 bytes. メモリアロケーターコンポーネントの影響を最小化する意図である。

## 外部パラメーター設定

* 外部パラメーターはコマンド引数で gflags によって与えるものとする。
* 実験時間（duration[sec]）: データを測定する時間。

## 生成するグラフ

* graph.plt によって生成されるグラフ。
* 横軸がスレッド数、縦軸がスループット。
