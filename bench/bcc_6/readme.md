# BCC-6 バージョンガーベッジコレクション性能

## 目的
現行のガーベッジコレクションが環境に生成されるバージョン数に対して追い付いているかどうかを検証するベンチマーク。

## 実施内容
- オンライン処理スレッドのみ。
- 各処理スレッドはそれぞれ専用となるテーブル領域を持ち、1 writes / tx で書き込みを行っていく。
epoch base mvcc において、 epoch が変わった瞬間には書き込みをコミットし、新たなバージョンをすぐさま生成したいからである。

## 内部パラメーター設定
- 内部パラメーターは内部的にハードコードされていて不変なものとする。
- トランザクション: 1 writes / tx
-テーブルサイズ: 1k records / thread
- key size 8 bytes, value size 8 bytes. メモリアロケーターコンポーネントの影響を最小化する意図である。

## 外部パラメーター設定
- 外部パラメーターはコマンド引数で gflags によって与えるものとする。
- 実験時間（duration[sec]）: データを測定する時間。
- スレッド数: オンライン処理スレッド数。これが多ければ多いほど単位時間あたりに環境に対して生成される新しいバージョン数が多くなる。

## 生成するグラフ
- graph.plt によって生成されるグラフ。
- 横軸がスレッド数（資源量）、縦軸が GC できたバージョン数。