# 診断情報の出力

## 診断情報とは
ストール時等において、トランザクション実行エンジンの状態を表現する情報。

## API
void print_diagnostics(std::ostream&)

## as is
現状は LTX で問題が発生しているため、 LTX のみの扱いとする。

## 出力する情報
- ワーカーのID (Token)
- 各トランザクションの状態
  - 1. 開始要求を受け付け、開始待ち合わせ中
  - 2. ユーザー操作受付中
  - 3. コミットを受諾し、コミット条件を待ち合わせ中
  - 4. コミット処理が完了
- 各トランザクションが待機する対象の LTX
  - ただし、コミット処理が完了していないことが条件である。コミット処理が完了していると、この情報を含むローカルセットをクリアしているため、当該情報は不明になる。
- 実行の途中状態であったトランザクションの数
  - print_diagnostics だけで何も出力しなかったら分かりにくく、実行の途中でないトランザクションによる情報量の無い情報を出力することに現状メリットが少ないため。

## 出力する情報のために必要な実装
- (トランザクションステート追跡要求が無くても)上記状態を追跡する。